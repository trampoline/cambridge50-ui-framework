doctype html
html(lang='en')
  head
    title EU Startup Data
    meta(charset='utf-8')
    //if IE
      meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")
    meta(name='viewport', content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0')
    meta(name='description', content='EU Startup Data')
    meta(name='author', content='Trampoline Systems Ltd')

    link(type='text/css', rel='stylesheet', href="http://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.css")
    link(type='text/css', rel='stylesheet', href='/css/app.css')

    script(type="text/javascript" src="/js/polyfills.js")
    script(type='text/javascript', src='http://code.jquery.com/jquery-1.11.1.min.js')

    <!--[if lte IE 7]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie7'); });
    <![endif]-->
    <!--[if IE 8]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie8'); });
    <![endif]-->
    <!--[if IE 9]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie9'); });
    <![endif]-->
    <!--[if IE 10]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie10'); });
    <![endif]-->
    script(type="text/javascript").
      $(document).ready(function(){
        if ($('html').hasClass('ie8')) {
          $('#browser-support').modal();
        }
      });

    script(type='text/javascript', src='http://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js')
    script(type='text/javascript', src='/js/vendor.js')
    script(type='text/javascript', src='http://fb.me/react-0.9.0.js')

    //begin-static-app-config
    script(type='text/javascript').
      window.config={"api":{"prefix": ""}}
    //end-static-app-config
    //app-config
      <script type="text/javascript">window.config={{{app-config}}}</script>

    script.
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      if (window.config.ua && window.config.ua.code) {
        ga('create', window.config.ua.code, 'trampolinesystems.com');
        ga('send', 'pageview');
      }

  body.view-map

    #browser-support.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
            h4.
              Partially supported browser
          .modal-body
            p.
              This browser is only partially supported : some application features may not work correctly or may perform poorly
            p.
              For a better experience try one of :
            ul
              li
                a(href='http://www.google.com/chrome/') Chrome
              li
                a(href='http://www.mozilla.org/en-US/firefox/new/') Firefox
              li
                a(href='http://windows.microsoft.com/en-us/internet-explorer/download-ie') Internet Explorer v9 or newer

    #page-info.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
            h4.
              EU Startup Data
          .modal-body
            p.
              EU Startup Data
            p
              | Please contact&ensp;
              a(href="mailto:eustartupdata@trampolinesystems.com") eustartupdata@trampolinesystems.com
              | &ensp;if you have any comments or questions.


    #page-methodology.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
            h4.
              Methodology
          .modal-body
            p.
              We take registry data from many European countries.

    #wrap
      aside#nav
        ul
          li.search(data-toggle='tooltip' data-placement='right' title='Filter'): a(href='#') Search
          li.map.active(data-toggle='tooltip' data-placement='right' title='View on map'): a(href='#') Map
          li.lists(data-toggle='tooltip' data-placement='right' title='View full report'): a(href='#') Full Report
          li.info(data-toggle='tooltip' data-placement='right' title='More Information')
            a(data-toggle='modal' data-target='#page-info') Info
          li.method(data-toggle='tooltip' data-placement='right' title='Methodology')
            a(data-toggle='modal' data-target='#page-methodology') Methodology
          li.logo: a(href='#') #

      section#main
        .container
          header#main-header
            #search
              #search-component
                div.tbl
                  div.tbl-cell(style='width: 100%')
                    input(type='text', placeholder='Search')
                  //- NEW: width increased
                  div.tbl-cell(style='width: 38px')
                    button(type='reset').btn-clear &times;

                  //- NEW: Button moved below to "header.secondary"
                  //- div.tbl-cell(style='width: 136px')
                  //-   button(type='reset').btn-reset Reset to UK wide

                #search-results.hide
                  ul
                    li
                      a(href='#')
                        | -
                        small Constituency
                    li
                      a(href='#')
                        | -
                        small Investor
                    li
                      a(href='#')
                        | -
                        small Investor-backed company
              .tbl
                .tbl-row
                  .tbl-cell
                    h3 Shading
                  .tbl-cell
              #variable-selection-component
              #stat-selection-component
              #scale-selection-component
              #color-scale-component
          #page-title-component
            #page-title
              button(type='button').btn View on map
              // button(type='reset').btn.btn-link.btn-reset Reset to UK wide
              h2 -
              h3 -

          #main-content

            #page-map
              #map-report.open
                a(href='#')
                  i Show / hide

                aside
                  header.primary
                    h1 EU Startup Data
                    h2 View Startups across Europe

                  #map-report-component
                    header.secondary
                      h2 -
                      h3 -
                      // button(type='reset').btn-reset Reset to UK wide

                    ul
                      li
                        | -
                        small Companies
                      li
                        | -
                        small Total revenue
                      li
                        | -
                        small Total employees

                    a(href='#')
                      button(type='button').btn
                        i.icon-lists-sm
                        | Full report

              #map-component

            #page-lists
              .inner
                .div-scroll
                  .div-fixed

                    #full-report-component
                      // .full-report-overview
                      //   h4 - Overview

                      //   .table-responsive
                      //     table.table-stats
                      //       thead
                      //         tr
                      //           th &nbsp;
                      //           th Investor-backed companies
                      //           th Investors
                      //           th Constituencies
                      //           th Revenue
                      //           th Rev. change
                      //           th Employees
                      //       tbody
                      //         tr
                      //           th
                      //             i.icon-info(data-toggle='tooltip', data-container='body', title='Total')
                      //             | Total
                      //           td
                      //             span.totals -
                      //           td
                      //             span.totals -
                      //           td
                      //             span.totals -
                      //           td
                      //             span.totals -
                      //           td
                      //             span.totals -
                      //           td
                      //             span.totals -
                      //         tr
                      //           th
                      //             i.icon-info(data-toggle='tooltip', data-container='body', title='Average')
                      //             | Average
                      //           td
                      //             span.averages -
                      //           td
                      //             span.averages -
                      //           td
                      //             span.averages -
                      //           td
                      //             span.averages -
                      //           td
                      //             span.averages -
                      //           td
                      //             span.averages -
                      #full-report-charts
                        .grid
                          .tbl
                            .tbl-cell.charts
                              .tbl
                                .tbl-row
                                  .tbl-cell
                                    .box.box-first
                                      header Turnover
                                      #turnover-timeline

                      #full-report-table.full-report-portfolio-company-sites
                        .table-responsive
                          table.table
                            thead
                              tr
                                th Investor-backed company
                                th Postcode
                                th Investor
                                th Revenue
                                th Rev. change
                                th Employess
                                th Emp. change
                            tbody
                              - var i = 1;
                              - while(i--)
                                tr
                                  td
                                    a(href='#') -
                                  td -
                                  td
                                    a(href='#') -
                                  td
                                    | -
                                    small &nbsp;(-)
                                  td
                                    | -
                                    i.icon-negative
                                  td
                                    | -
                                    small &nbsp;(-)
                                  td
                                    | -
                                    i.icon-positive
                      // .full-report-details
                      //   .grid
                      //     .tbl
                      //       .tbl-cell.charts
                      //         .tbl
                      //           .tbl-row
                      //             .tbl-cell
                      //               .box.box-first
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //                   p -
                      //             .tbl-cell
                      //               .box.box-last
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //           .tbl-row
                      //             .tbl-cell
                      //               .box.box-first
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //             .tbl-cell
                      //               .box.box-last
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //                   p -

                      //       .tbl-cell.details
                      //         .tbl
                      //           .tbl-cell
                      //             .box
                      //               header -
                      //               div
                      //                 ul
                      //                   li -
                      //                   li -
                      //                   li -
                      //                   li -
                      //                 p: a(href='#') Show more...
                      //         .tbl
                      //           .tbl-cell
                      //             .box
                      //               header -
                      //               div
                      //                 ul
                      //                   li -
                      //                   li -
                      //                   li -
                      //                   li -
                      //                 p: a(href='#') Show more...
                      //         .tbl
                      //           .tbl-cell
                      //             .box
                      //               header -
                      //               div
                      //                 ul
                      //                   li -
                      //                   li -
                      //                 li -
                      //                 li -
                      //               p: a(href='#') Show more...

          footer#main-footer
            .inner
              .trampoline
                p
                  | Produced by&nbsp;
                  a(href='http://www.grantthornton.com/') Grant Thornton
                  | &nbsp;and&nbsp;
                  a(href='http://www.trampolinesystems.com/') Trampoline Systems
                p
                  a(href='mailto:clustermap-issues@trampolinesystems.com?subject=EU Startup Data issue report') Report issue
              //   p
              //     a(href='#') Terms
              // .issues

    //begin-static-base-js
    script(type="text/javascript", src="cljs/goog/base.js")
    //end-static-base-js
    //base-js
      {{{base-js}}}

    //begin-static-dynamic-js
    <script type="text/javascript" src="clustermap.js"></script><script type="text/javascript">goog.require("clustermap.core");</script>
    //end-static-dynamic-js
    //dynamic-js
      <script type="text/javascript" src="clustermap.js"></script><script type="text/javascript">goog.require("clustermap.core");</script>

    //begin-static-repl-js
    //end-static-repl-js
    //repl-js
      <script type="text/javascript">{{{repl-js}}}</script>

//end
